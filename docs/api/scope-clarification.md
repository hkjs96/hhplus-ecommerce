# Week 2 ê³¼ì œ ë²”ìœ„ ëª…í™•í™”

## ğŸ¯ Week 2 ëª©í‘œ

**ì™„ì „í•œ ì‹œìŠ¤í…œ ì„¤ê³„** + Mock ì„œë²„ êµ¬í˜„

---

## ğŸ“ ì„¤ê³„ ë²”ìœ„ (Redis/Kafka í¬í•¨!)

### âœ… ì„¤ê³„ ì‚°ì¶œë¬¼
```
âœ… API ëª…ì„¸ì„œ ì‘ì„±
âœ… ERD ì„¤ê³„ (ì—”í‹°í‹° ê´€ê³„)
âœ… ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°)
âœ… Redis ìºì‹± ì•„í‚¤í…ì²˜ ì„¤ê³„
âœ… Kafka ë©”ì‹œì§• ì•„í‚¤í…ì²˜ ì„¤ê³„
âœ… ë¶„ì‚° ë½ ì „ëµ ì„¤ê³„
âœ… ê°€ìš©ì„± íŒ¨í„´ ì„¤ê³„ (Timeout, Retry, Fallback, Async)
```

### âœ… Mock ì„œë²„ êµ¬í˜„ ë²”ìœ„
```
âœ… Spring Boot ê¸°ë°˜ Mock API
âœ… In-Memory ì»¬ë ‰ì…˜ ì‚¬ìš© (ConcurrentHashMap ë“±)
âœ… ê¸°ë³¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦
âœ… API ì—”ë“œí¬ì¸íŠ¸ ë™ì‘ í™•ì¸

âŒ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° (í–¥í›„ êµ¬í˜„)
âŒ Redis ì‹¤ì œ êµ¬í˜„ (í–¥í›„ êµ¬í˜„)
âŒ Kafka ì‹¤ì œ êµ¬í˜„ (í–¥í›„ êµ¬í˜„)
```

---

## ğŸ’¡ í•µì‹¬ ì›ì¹™

> **ì„¤ê³„ëŠ” ì™„ì „í•˜ê²Œ, êµ¬í˜„ì€ ê°„ë‹¨í•˜ê²Œ!**
>
> - Redis/Kafkaë¥¼ **ì„¤ê³„ì— í¬í•¨**
> - Mock ì„œë²„ëŠ” **In-Memoryë¡œ ê°„ë‹¨í•˜ê²Œ** êµ¬í˜„
> - ì‹¤ì œ êµ¬í˜„ì€ **í–¥í›„ ë‹¨ê³„ì ìœ¼ë¡œ** ì§„í–‰

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### ì„¤ê³„ì— í¬í•¨
- **Database**: H2 (Dev) / MySQL (Prod)
- **Cache**: Redis (ì„¤ê³„ í¬í•¨)
- **Message Queue**: Kafka (ì„¤ê³„ í¬í•¨)
- **Distributed Lock**: Redis Lock (ì„¤ê³„ í¬í•¨)

### Week 2 Mock ì„œë²„
- **Database**: In-Memory Collections
- **Cache**: ConcurrentHashMap
- **Queue**: ConcurrentLinkedQueue
- **Lock**: synchronized / ReentrantLock

---

## ğŸ“Š ì„¤ê³„ vs êµ¬í˜„ ë¹„êµ

### ìºì‹± ì „ëµ

#### ì„¤ê³„ (ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)
```
ì¸ê¸° ìƒí’ˆ ì¡°íšŒ â†’ Redis Cache í™•ì¸ â†’ ìºì‹œ ë¯¸ìŠ¤ ì‹œ DB ì¡°íšŒ â†’ Redisì— ì €ì¥
```

#### Week 2 Mock êµ¬í˜„
```java
@Cacheable(value = "products")
public Product getProduct(String id) {
    // In-Memory Cache (Spring Cache)
    return productRepository.findById(id);
}
```

---

### ì¬ì‹œë„ í

#### ì„¤ê³„ (ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)
```
ì™¸ë¶€ API ì‹¤íŒ¨ â†’ Redis Queueì— ì €ì¥ â†’ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì¬ì‹œë„
```

#### Week 2 Mock êµ¬í˜„
```java
private final Queue<Order> retryQueue = new ConcurrentLinkedQueue<>();

public void addToRetryQueue(Order order) {
    retryQueue.offer(order);
}
```

---

### ë™ì‹œì„± ì œì–´

#### ì„¤ê³„ (ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)
```
ì¬ê³  ì°¨ê°: Pessimistic Lock (DB)
ì¿ í° ë°œê¸‰: Optimistic Lock (Version)
ë¶„ì‚° í™˜ê²½: Redis Lock (í–¥í›„)
```

#### Week 2 Mock êµ¬í˜„
```java
// Pessimistic Lock
@Lock(LockModeType.PESSIMISTIC_WRITE)
Product findByIdWithLock(String id);

// Optimistic Lock
@Version
private Long version;
```

---

## â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

### Q1: "Week 2ì—ì„œ Redisë¥¼ ì„¤ê³„ë§Œ í•˜ê³  êµ¬í˜„ì€ ì•ˆ í•˜ë‚˜ìš”?"
**A**: ë§ìŠµë‹ˆë‹¤!
- Week 2: Redis ì•„í‚¤í…ì²˜ë¥¼ **ì„¤ê³„**í•˜ê³ , Mock ì„œë²„ëŠ” In-Memoryë¡œ êµ¬í˜„
- **ì´ìœ **: ì„¤ê³„ëŠ” ì™„ì „í•˜ê²Œ í•˜ë˜, êµ¬í˜„ì€ ë‹¨ê³„ì ìœ¼ë¡œ ì§„í–‰

### Q2: "ì„¤ê³„ì— Redisë¥¼ í¬í•¨í•˜ëŠ” ì´ìœ ëŠ”?"
**A**: í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ë¥¼ ì²˜ìŒë¶€í„° ê³ ë ¤í•˜ê¸° ìœ„í•´:
- âœ… ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ ì‹œ êµ¬í˜„ êµì²´ ê°€ëŠ¥í•˜ë„ë¡
- âœ… Redisì˜ í•„ìš”ì„±ê³¼ ë™ì‘ ì›ë¦¬ ì´í•´
- âœ… í–¥í›„ ì‰½ê²Œ ì „í™˜ ê°€ëŠ¥
- âœ… ì‹¤ë¬´ì—ì„œë„ ì´ëŸ° ì‹ìœ¼ë¡œ ì„¤ê³„ â†’ êµ¬í˜„ ì§„í–‰

### Q3: "In-Memory ìºì‹œ/íë©´ ì„œë²„ ì¬ì‹œì‘ ì‹œ ë°ì´í„° ìœ ì‹¤?"
**A**: ë§ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ:
- **Week 2**: í•™ìŠµ ëª©ì ì´ë¯€ë¡œ In-Memoryë¡œ ì¶©ë¶„
  - ì¸ê¸° ìƒí’ˆì€ 5ë¶„ë§ˆë‹¤ ì¬ì§‘ê³„
  - ì™¸ë¶€ ì „ì†¡ì€ 'ì¶”ê°€' ì‘ì—… (ì£¼ë¬¸ ì™„ë£ŒëŠ” ë³´ì¥)
- **í–¥í›„**: Redisë¡œ ì „í™˜í•˜ì—¬ ì˜ì†ì„± ë³´ì¥

### Q4: "ì„¤ê³„ë§Œ í•˜ë©´ ë‚˜ì¤‘ì— ë‹¤ì‹œ ë°°ì›Œì•¼ í•˜ëŠ” ê±° ì•„ë‹Œê°€ìš”?"
**A**: ì•„ë‹ˆìš”, ì˜¤íˆë ¤ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤:
- **Week 2**: Redisì˜ **ê°œë…ê³¼ í•„ìš”ì„±** ì´í•´
- **í–¥í›„**: ì´ë¯¸ ì„¤ê³„í•œ ëŒ€ë¡œ Redis **êµ¬í˜„ë§Œ** ì¶”ê°€
- **ê²°ê³¼**: ë‹¨ê³„ë³„ë¡œ ì§‘ì¤‘í•˜ì—¬ ê¹Šì´ ìˆëŠ” í•™ìŠµ

---

## âœ… Week 2 ì„±ê³µ ê¸°ì¤€

### ì„¤ê³„ ì‚°ì¶œë¬¼
- [ ] **API ëª…ì„¸**: ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ëª…ì„¸ ì™„ì„±
- [ ] **ERD**: ì—”í‹°í‹° ê´€ê³„ë„ ì‘ì„±
- [ ] **ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨**: í•µì‹¬ í”Œë¡œìš° 5ê°œ ì´ìƒ
- [ ] **Redis/Kafka ì„¤ê³„**: ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì— í¬í•¨
- [ ] **ê°€ìš©ì„± íŒ¨í„´**: Timeout, Retry, Fallback, Async ì„¤ê³„

### Mock ì„œë²„ êµ¬í˜„
- [ ] **Spring Boot**: Mock API ì„œë²„ ë™ì‘
- [ ] **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**: ê¸°ë³¸ ë™ì‘ ê²€ì¦ ê°€ëŠ¥
- [ ] **In-Memory**: ìºì‹œ/í ì •ìƒ ë™ì‘
- [ ] **API í…ŒìŠ¤íŠ¸**: Postman/curlë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

## ğŸ¯ í•µì‹¬ ë©”ì‹œì§€

> **Week 2ëŠ” ì„¤ê³„ ë‹¨ê³„ì…ë‹ˆë‹¤!**
>
> âœ… Redis, Kafkaë¥¼ **ì„¤ê³„ì— í¬í•¨**
> âœ… Mock ì„œë²„ëŠ” **In-Memoryë¡œ ê°„ë‹¨í•˜ê²Œ** êµ¬í˜„
> âœ… ì‹¤ì œ êµ¬í˜„ì€ **í–¥í›„ ë‹¨ê³„ì ìœ¼ë¡œ** ì§„í–‰
>
> **ì„¤ê³„ â†’ êµ¬í˜„ â†’ í™•ì¥, í•œ ë‹¨ê³„ì”© í™•ì‹¤í•˜ê²Œ!** ğŸš€
