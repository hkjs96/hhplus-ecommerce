# Spring Cache/Redis 직렬화(Serializer) 선택 가이드(실무 기준)

> 목적: “캐시 직렬화 도구가 뭐고 왜 신경 써야 하는가?”를 한 장으로 정리한다.

---

## 1) 왜 직렬화가 중요하나?

Redis 같은 외부 캐시에 값을 넣으려면 “객체 → 바이트(또는 문자열)” 변환이 필요합니다.  
이 선택이 바뀌면 아래가 크게 달라집니다.

- 성능(직렬화/역직렬화 비용)
- 호환성(버전 변경 시 깨짐 여부)
- 운영(사람이 값 확인 가능 여부)
- 보안(임의 객체 역직렬화 위험 등)

---

## 2) 대표 선택지(감각)

### 1) JSON (Jackson)
- 장점: 사람이 읽기 쉬움, 서비스/언어 간 호환성 좋음, 디버깅이 쉬움
- 단점: 용량이 커질 수 있고, 타입 정보/폴리모픽 처리에 주의가 필요

### 2) JDK Serialization
- 장점: 구현이 간단하게 느껴질 수 있음
- 단점: 운영/호환성에 취약(클래스 변경에 민감), 사람이 읽기 어렵고, 보안 이슈로 기피되는 경우가 많음

실무 결론(빈도 높은 선택)
- “운영/호환성/디버깅”을 중요하게 보면 JSON 계열이 유리한 경우가 많습니다.
- “초고성능/고밀도”가 필요하면 별도 바이너리 포맷(예: Kryo/Proto/Avro 등)을 고민하지만, 과제/일반 서비스에서 먼저 선택할 필요는 낮습니다.

---

## 3) Spring Cache에서 무엇을 결정해야 하나?

크게 2가지가 자주 구분됩니다.

- **Key Serializer**: 보통 문자열(가독성/호환성)
- **Value Serializer**: JSON/JDK 등 선택

레포에서 Redis 설정 위치(참고)
- `src/main/java/io/hhplus/ecommerce/config/RedisConfig.java`
- `src/main/java/io/hhplus/ecommerce/config/CacheConfig.java`

---

## 4) 체크리스트 답변용 요약(3줄)

1. 캐시는 외부 저장소에 넣기 위해 직렬화가 필요하고, 이 선택이 성능/호환성/운영 난이도를 좌우한다.  
2. JSON은 운영/호환성에 강하고, JDK 직렬화는 변경에 취약해 실무에서 기피되는 경우가 많다.  
3. Spring Cache에서는 Key/Value 직렬화를 분리해 의도적으로 선택하는 게 중요하다.

