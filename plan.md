# Week 10: 장애 대응 & 성능 테스트 계획

> **작성일**: 2025-12-23  
> **프로젝트**: 항해플러스 이커머스 백엔드  
> **현재 단계**: Week 10 (STEP 19-20)  
> **브랜치**: `step19-20`

---

## 목표
- **STEP19**: 부하 테스트 대상/목표/시나리오/측정 지표를 계획하고, k6 스크립트로 실행
- **STEP20**: 결과 분석(p95/p99, error rate, 리소스) → 병목/장애 시나리오 도출 → 개선/재검증(또는 개선 가설) → 포스트모템 문서화

---

## 진행 원칙
- **정확한 성능 측정 우선**
  - 부하 발생기(`k6`)는 **호스트(로컬)** 에서 실행
  - SUT(앱/DB/Redis/Kafka)는 `docker compose`로 실행하여 환경 고정/재현성 확보
- **장애 대응 관점**
  - “고치기”보다 먼저 “탐지/공유/복구”의 흐름이 문서에 드러나야 함
- **Do not blame**
  - 포스트모템은 변명/비난 대신 “배운 점 + 바꿀 점 + 액션아이템” 중심

---

## 산출물
- `docs/week10/README.md`
- `docs/week10/step19-load-test-plan.md`
- `docs/week10/step20-incident-report.md`

---

## STEP19 체크리스트
- [ ] 모든 API 범위 확정: `/api/**` 전체(운영/문서 엔드포인트 제외)
- [ ] 테스트 데이터 시드/초기화 전략 확정(상태 의존 API 포함)
- [ ] 부하 모델 확정: **가벼운 기본 + 점진 증가(stress)**
- [ ] 지표 수집 방식 정리(API/JVM/DB/Redis)
- [ ] 실행 스크립트/명령어 문서화(재현 가능하게)

---

## STEP20 체크리스트
- [ ] Baseline 결과 요약(p95/p99, error rate, RPS/TPS)
- [ ] Hot endpoint(지연/에러 상위) 선정 근거 작성
- [ ] 병목 가설 수립 → 근거 수집(로그/쿼리/메트릭) → 결론
- [ ] 개선/대응안 작성(Short/Mid/Long-term)
- [ ] 재측정(전/후 비교) 또는 개선 가설 정리
- [ ] 포스트모템(타임라인/영향/5-whys/액션아이템)

